<div class="min-h-screen bg-gray-50 py-6 px-4 sm:px-6 lg:px-8">
  <div class="max-w-5xl mx-auto">
    <!-- Header section -->
    <div class="bg-white shadow-sm rounded-lg p-6 mb-8 border-l-4 border-blue-600">
      <div class="flex flex-col md:flex-row items-center gap-4">
        <img src="assets/dti_banner.png" alt="DTI Banner" class="h-16 object-contain" />
        <h1 class="text-xl md:text-2xl font-bold text-gray-900 text-center md:text-left">
          APPLICATION FOR CERTIFICATE OF REGISTRATION (COR)
          FOR WHOLESALER/TRADER/DISTRIBUTOR/RETAILER
        </h1>
      </div>
    </div>

    <form [formGroup]="form" (ngSubmit)="submitForm()" class="space-y-6">
      <!-- Business Information Section -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-600 px-6 py-4">
          <h2 class="text-lg font-semibold text-white">Business Information</h2>
        </div>
        
        <div class="p-6 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Business Name -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Name of Business <span class="text-red-500">*</span></label>
              <input name="business_name" formControlName="business_name"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('business_name')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <!-- Store Name -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Name of Store <span class="text-red-500">*</span></label>
              <input name="store_name" formControlName="store_name"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('store_name')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Store Address Section -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-600 px-6 py-4">
          <h2 class="text-lg font-semibold text-white">Store Address</h2>
        </div>
        
        <div class="p-6 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Floor/Unit No. <span class="text-red-500">*</span></label>
              <input name="floor_unit_no" formControlName="floor_unit_no"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('floor_unit_no')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Building No./Name <span class="text-red-500">*</span></label>
              <input name="building_no_name" formControlName="building_no_name"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('building_no_name')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Street <span class="text-red-500">*</span></label>
              <input name="street" formControlName="street"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('street')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Barangay <span class="text-red-500">*</span></label>
              <input name="barangay" formControlName="barangay"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('barangay')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">City/Municipality <span class="text-red-500">*</span></label>
              <input name="city_municipality" formControlName="city_municipality"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('city_municipality')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Province <span class="text-red-500">*</span></label>
              <input name="province" formControlName="province"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('province')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Region <span class="text-red-500">*</span></label>
              <input name="region" formControlName="region"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('region')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Zip Code <span class="text-red-500">*</span></label>
              <input name="zip_code" formControlName="zip_code"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('zip_code')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Owner Information Section -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-600 px-6 py-4">
          <h2 class="text-lg font-semibold text-white">Owner Information</h2>
        </div>
        
        <div class="p-6 space-y-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Name of Business Owner <span class="text-red-500">*</span></label>
            <input name="business_owner" formControlName="business_owner"
                  class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
            <div *ngIf="isFieldInvalid('business_owner')" class="mt-1 text-sm text-red-600">
              This field is required
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-4">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-3">Sex (Warehouse Owner)</label>
              <div class="flex items-center space-x-6">
                <label class="inline-flex items-center">
                  <input type="radio" 
                        formControlName="warehouse_owner_sex" 
                        value="M"
                        class="form-radio h-4 w-4 text-blue-600" />
                  <span class="ml-2 text-sm text-gray-700">Male</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" 
                        formControlName="warehouse_owner_sex" 
                        value="F"
                        class="form-radio h-4 w-4 text-blue-600" />
                  <span class="ml-2 text-sm text-gray-700">Female</span>
                </label>
              </div>
              <div *ngIf="isFieldInvalid('warehouse_owner_sex')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Social Classification</label>
              <input name="social_classification" 
                    formControlName="social_classification"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    placeholder="e.g. Senior Citizen, PWD" />
              <div *ngIf="isFieldInvalid('social_classification')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Information Section -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-600 px-6 py-4">
          <h2 class="text-lg font-semibold text-white">Contact Information</h2>
        </div>
        
        <div class="p-6 space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Telephone/Mobile Number <span class="text-red-500">*</span></label>
              <input name="telephone_mobile" formControlName="telephone_mobile"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('telephone_mobile')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">E-mail Address <span class="text-red-500">*</span></label>
              <input name="email_address" type="email" formControlName="email_address"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('email_address')" class="mt-1 text-sm text-red-600">
                <span *ngIf="form.get('email_address')?.errors?.['required']">Email is required</span>
                <span *ngIf="form.get('email_address')?.errors?.['email']">Invalid email format</span>
              </div>
            </div>
          
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Website/Social Media Page</label>
              <input name="website_social_media" 
                    formControlName="website_social_media"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300" />
              <div *ngIf="isFieldInvalid('website_social_media')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 mb-3">Type of Store <span class="text-red-500">*</span></label>
              <div class="flex items-center space-x-6">
                <label class="inline-flex items-center">
                  <input type="radio" 
                        formControlName="store_type" 
                        value="physical"
                        class="form-radio h-4 w-4 text-blue-600" />
                  <span class="ml-2 text-sm text-gray-700">Physical</span>
                </label>
                <label class="inline-flex items-center">
                  <input type="radio" 
                        formControlName="store_type" 
                        value="online"
                        class="form-radio h-4 w-4 text-blue-600" />
                  <span class="ml-2 text-sm text-gray-700">Online</span>
                </label>
              </div>
              <div *ngIf="isFieldInvalid('store_type')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
          
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">Digital Platform/s to Use <span class="text-red-500">*</span></label>
              <input name="digital_platforms" formControlName="digital_platforms"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    placeholder="e.g. Shopee, Lazada, etc" />
              <div *ngIf="isFieldInvalid('digital_platforms')" class="mt-1 text-sm text-red-600">
                This field is required
              </div>
            </div>
            
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">URL <span class="text-red-500">*</span></label>
              <input name="store_url" type="url" formControlName="store_url"
                    class="form-input block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    placeholder="For online store" />
              <div *ngIf="isFieldInvalid('store_url')" class="mt-1 text-sm text-red-600">
                <span *ngIf="form.get('store_url')?.errors?.['required']">URL is required</span>
                <span *ngIf="form.get('store_url')?.errors?.['pattern']">Invalid URL format</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Products Section -->
      <div class="bg-white shadow-md rounded-lg overflow-hidden">
        <div class="bg-blue-600 px-6 py-4">
          <h2 class="text-lg font-semibold text-white">Products Information</h2>
        </div>
        
        <div class="p-6 space-y-6">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-3">Products Being Offered for Sale</label>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-2">
              <label class="inline-flex items-center">
                <input type="checkbox" name="vapor_product_system" formControlName="vapor_product_system"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">Vapor Product System</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="vapor_product_device" formControlName="vapor_product_device"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">Vapor Product Device</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="refills_e_liquids" formControlName="refills_e_liquids"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">Refills/E-liquids</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="htp_system" formControlName="htp_system"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">Heated Tobacco Product (HTP) System</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="htp_device" formControlName="htp_device"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">HTP Device</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="htp_consumables" formControlName="htp_consumables"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">HTP Consumables</span>
              </label>

              <label class="inline-flex items-center">
                <input type="checkbox" name="nicotine_pouch" formControlName="nicotine_pouch"
                      class="form-checkbox h-4 w-4 text-blue-600" />
                <span class="ml-2 text-sm text-gray-700">Nicotine Pouch</span>
              </label>
            </div>
          </div>

          <div class="mt-6">
            <label class="block text-sm font-medium text-gray-700 mb-1">List of brands of products</label>
            <textarea name="brands_list" formControlName="brands_list"
                    class="form-textarea block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    rows="3"></textarea>
          </div>

          <div class="mt-6">
            <label class="block text-sm font-medium text-gray-700 mb-1">Name of Supplier/s</label>
            <textarea name="supplier_names" formControlName="supplier_names"
                    class="form-textarea block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    rows="3"></textarea>
          </div>

          <div class="mt-6">
            <label class="block text-sm font-medium text-gray-700 mb-1">Asset Size (in PhP)</label>
            <textarea name="asset_size" formControlName="asset_size"
                    class="form-textarea block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    rows="3"></textarea>
          </div>

          <div class="mt-6">
            <label class="block text-sm font-medium text-gray-700 mb-1">Address of Warehouse/s</label>
            <textarea name="warehouse_address" formControlName="warehouse_address"
                    class="form-textarea block w-full rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm border-gray-300"
                    rows="3"></textarea>
          </div>
        </div>
      </div>

      <!-- Submit Button Section -->
      <div class="flex justify-end gap-4 pt-6">
        <button type="button" class="px-6 py-3 border border-gray-300 shadow-sm text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-150 ease-in-out">
          Cancel
        </button>
        <button type="submit" class="px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-150 ease-in-out">
          Submit
        </button>
      </div>
    </form>
  </div>
</div>

<!-- SUCCESS MODAL -->
<div *ngIf="showSuccessModal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4">
  <div class="bg-white text-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md animate-fade-in-up">
    <div class="flex items-center mb-4 text-green-600">
      <svg class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
      </svg>
      <h2 class="text-xl font-bold">Successful Registration!</h2>
    </div>
    <p class="mb-6 text-gray-700">
      Your record has been submitted. We have successfully stored your data.
    </p>
    <div class="flex justify-end">
      <button class="px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-150 ease-in-out" (click)="closeSuccessModal()">
        OK
      </button>
    </div>
  </div>
</div>