<div class="min-h-screen bg-gray-100 flex flex-col" data-theme="light">
  <header class="bg-white shadow-sm">
    <div class="container mx-auto p-4 flex items-center space-x-4">
      <img
        src="assets/dti_banner.png"
        alt="DTI Banner"
        class="max-h-16 object-contain"
      />
      <h1 class="text-xl md:text-2xl font-bold text-blue-700">
        APPLICATION FOR AGE GATING
      </h1>
    </div>
  </header>

  <main class="container mx-auto p-6 flex-1">
    <div class="bg-white shadow-lg rounded-lg p-6 border border-gray-200">
      <nav class="bg-blue-600 text-white p-4 rounded-md font-semibold mb-4">
        OSMV PRODUCT CERTIFICATION BODY
      </nav>

      <form #myForm="ngForm" (ngSubmit)="submitForm(myForm)">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
          <div>
            <label class="font-medium text-gray-700">Application Type</label>
            <div class="flex items-center space-x-4 mt-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="typeApplication"
                  value="New Application"
                  [(ngModel)]="formData.typeApplication"
                  class="radio radio-primary"
                  required
                  #typeApplication="ngModel"
                />
                <span class="ml-2">New Application</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="typeApplication"
                  value="Update of Records"
                  [(ngModel)]="formData.typeApplication"
                  class="radio radio-primary"
                  required
                />
                <span class="ml-2">Update of Records</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="typeApplication"
                  value="Renewal"
                  [(ngModel)]="formData.typeApplication"
                  class="radio radio-primary"
                  required
                />
                <span class="ml-2">Renewal</span>
              </label>
            </div>

            <label class="font-medium text-gray-700">Name of Company</label>
            <input
              name="nameOfCompany"
              [(ngModel)]="formData.nameOfCompany"
              class="input input-bordered w-full mt-2 bg-white text-black"
              required
              #nameOfCompany="ngModel"
            />
            <div
              *ngIf="
                nameOfCompany.invalid &&
                (nameOfCompany.dirty || nameOfCompany.touched)
              "
              class="text-red-600 text-sm mt-1"
            >
              * Required
            </div>
          </div>
          <div>
            <label class="font-medium text-gray-700">Company Type</label>
            <div class="flex items-center space-x-4 mt-2">
              <label class="flex items-center">
                <input
                  type="radio"
                  name="companyType"
                  value="Local"
                  [(ngModel)]="formData.companyType"
                  class="radio radio-primary"
                  required
                  #companyType="ngModel"
                />
                <span class="ml-2">Local</span>
              </label>
              <label class="flex items-center">
                <input
                  type="radio"
                  name="companyType"
                  value="Foreign"
                  [(ngModel)]="formData.companyType"
                  class="radio radio-primary"
                  required
                  #companyType="ngModel"
                />
                <span class="ml-2">Foreign</span>
              </label>
            </div>
            <div
              *ngIf="
                companyType.invalid &&
                (companyType.dirty || companyType.touched)
              "
              class="text-red-600 text-sm mt-1"
            >
              * Required
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
          <div>
            <label class="font-medium text-gray-700">Company Address</label>
            <div class="mt-2 grid grid-cols-1 md:grid-cols-2 gap-2">
              <input
                name="floorUnit"
                [(ngModel)]="formData.floorUnit"
                class="input input-bordered bg-white text-black"
                required
                #floorUnit="ngModel"
                placeholder="Floor/Unit No."
              />
              <div
                *ngIf="
                  floorUnit.invalid && (floorUnit.dirty || floorUnit.touched)
                "
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="bldgName"
                [(ngModel)]="formData.bldgName"
                class="input input-bordered bg-white text-black"
                required
                #bldgName="ngModel"
                placeholder="Bldg. No./Name"
              />
              <div
                *ngIf="bldgName.invalid && (bldgName.dirty || bldgName.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="street"
                [(ngModel)]="formData.street"
                class="input input-bordered bg-white text-black"
                required
                #street="ngModel"
                placeholder="Street"
              />
              <div
                *ngIf="street.invalid && (street.dirty || street.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="barangay"
                [(ngModel)]="formData.barangay"
                class="input input-bordered bg-white text-black"
                required
                #barangay="ngModel"
                placeholder="Barangay"
              />
              <div
                *ngIf="barangay.invalid && (barangay.dirty || barangay.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="city"
                [(ngModel)]="formData.city"
                class="input input-bordered bg-white text-black"
                required
                #city="ngModel"
                placeholder="City/Municipality"
              />
              <div
                *ngIf="city.invalid && (city.dirty || city.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="province"
                [(ngModel)]="formData.province"
                class="input input-bordered bg-white text-black"
                required
                #province="ngModel"
                placeholder="Province"
              />
              <div
                *ngIf="province.invalid && (province.dirty || province.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="region"
                [(ngModel)]="formData.region"
                class="input input-bordered bg-white text-black"
                required
                #region="ngModel"
                placeholder="Region"
              />
              <div
                *ngIf="region.invalid && (region.dirty || region.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>

              <input
                name="zipCode"
                [(ngModel)]="formData.zipCode"
                class="input input-bordered bg-white text-black"
                required
                #zipCode="ngModel"
                placeholder="Zip Code"
              />
              <div
                *ngIf="zipCode.invalid && (zipCode.dirty || zipCode.touched)"
                class="text-red-600 text-sm mt-1 col-span-2"
              >
                * Required
              </div>
            </div>
          </div>
          <div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label class="font-medium text-gray-700"
                  >Company Local Address</label
                >
                <div class="mt-2 grid grid-cols-1 md:grid-cols-2 gap-2">
                  <input
                    name="localFloorUnit"
                    [(ngModel)]="formData.localFloorUnit"
                    class="input input-bordered bg-white text-black"
                    required
                    #localFloorUnit="ngModel"
                    placeholder="Floor/Unit No."
                  />
                  <div
                    *ngIf="
                      localFloorUnit.invalid &&
                      (localFloorUnit.dirty || localFloorUnit.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localBldgName"
                    [(ngModel)]="formData.localBldgName"
                    class="input input-bordered bg-white text-black"
                    required
                    #bldgName="ngModel"
                    placeholder="Bldg. No./Name"
                  />
                  <div
                    *ngIf="
                      bldgName.invalid && (bldgName.dirty || bldgName.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localStreet"
                    [(ngModel)]="formData.localStreet"
                    class="input input-bordered bg-white text-black"
                    required
                    #localStreet="ngModel"
                    placeholder="Street"
                  />
                  <div
                    *ngIf="
                      localStreet.invalid &&
                      (localStreet.dirty || localStreet.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localBarangay"
                    [(ngModel)]="formData.localBarangay"
                    class="input input-bordered bg-white text-black"
                    required
                    #localBarangay="ngModel"
                    placeholder="Barangay"
                  />
                  <div
                    *ngIf="
                      localBarangay.invalid &&
                      (localBarangay.dirty || localBarangay.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localCity"
                    [(ngModel)]="formData.localCity"
                    class="input input-bordered bg-white text-black"
                    required
                    #localCity="ngModel"
                    placeholder="City/Municipality"
                  />
                  <div
                    *ngIf="
                      localCity.invalid &&
                      (localCity.dirty || localCity.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localProvince"
                    [(ngModel)]="formData.localProvince"
                    class="input input-bordered bg-white text-black"
                    required
                    #localProvince="ngModel"
                    placeholder="Province"
                  />
                  <div
                    *ngIf="
                      localProvince.invalid &&
                      (localProvince.dirty || localProvince.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localRegion"
                    [(ngModel)]="formData.localRegion"
                    class="input input-bordered bg-white text-black"
                    required
                    #localRegion="ngModel"
                    placeholder="Region"
                  />
                  <div
                    *ngIf="
                      localRegion.invalid &&
                      (localRegion.dirty || localRegion.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>

                  <input
                    name="localZipCode"
                    [(ngModel)]="formData.localZipCode"
                    class="input input-bordered bg-white text-black"
                    required
                    #localZipCode="ngModel"
                    placeholder="Zip Code"
                  />
                  <div
                    *ngIf="
                      localZipCode.invalid &&
                      (localZipCode.dirty || localZipCode.touched)
                    "
                    class="text-red-600 text-sm mt-1 col-span-2"
                  >
                    * Required
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label class="font-medium text-gray-700"
                  >Website/Social Media Page</label
                >
                <input
                  name="websiteOwner"
                  [(ngModel)]="formData.websiteOwner"
                  class="input input-bordered w-full mt-2 bg-white text-black"
                  required
                  #websiteOwner="ngModel"
                />
                <div
                  *ngIf="
                    websiteOwner.invalid &&
                    (websiteOwner.dirty || websiteOwner.touched)
                  "
                  class="text-red-600 text-sm mt-1"
                >
                  * Required
                </div>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label class="font-medium text-gray-700"
                  >Telephone Number</label
                >
                <input
                  name="telephoneOwner"
                  [(ngModel)]="formData.telephoneOwner"
                  class="input input-bordered w-full mt-2 bg-white text-black"
                  required
                  #telephoneOwner="ngModel"
                />
                <div
                  *ngIf="
                    telephoneOwner.invalid &&
                    (telephoneOwner.dirty || telephoneOwner.touched)
                  "
                  class="text-red-600 text-sm mt-1"
                >
                  * Required
                </div>
              </div>
            </div>

            <div>
              <label class="font-medium text-gray-700">E-mail Address</label>
              <input
                name="emailOwner"
                type="email"
                [(ngModel)]="formData.emailOwner"
                class="input input-bordered w-full mt-2 bg-white text-black"
                required
                #emailOwner="ngModel"
              />
              <div
                *ngIf="emailOwner.errors?.['required'] && (emailOwner.dirty || emailOwner.touched)"
                class="text-red-600 text-sm mt-1"
              >
                * Required
              </div>
              <div
                *ngIf="emailOwner.errors?.['email'] && (emailOwner.dirty || emailOwner.touched)"
                class="text-red-600 text-sm mt-1"
              >
                * Invalid email
              </div>
            </div>

            <div>
              <label class="font-medium text-gray-700">TIN Number</label>
              <input
                name="TINOwner"
                type="number"
                [(ngModel)]="formData.TINOwner"
                class="input input-bordered w-full mt-2 bg-white text-black"
                required
                #TINOwner="ngModel"
              />
              <div
                *ngIf="TINOwner.errors?.['required'] && (TINOwner.dirty || TINOwner.touched)"
                class="text-red-600 text-sm mt-1"
              >
                * Required
              </div>
              <div
                *ngIf="TINOwner.errors?.['TIN'] && (TINOwner.dirty || TINOwner.touched)"
                class="text-red-600 text-sm mt-1"
              >
                * Invalid TIN number
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label class="font-medium text-gray-700">Fax Number</label>
                <input
                  name="FaxNumber"
                  [(ngModel)]="formData.FaxNumber"
                  class="input input-bordered w-full mt-2 bg-white text-black"
                  required
                  #FaxNumber="ngModel"
                />
                <div
                  *ngIf="
                    FaxNumber.invalid && (FaxNumber.dirty || FaxNumber.touched)
                  "
                  class="text-red-600 text-sm mt-1"
                >
                  * Required
                </div>
              </div>
            </div>

            <div>
              <label class="font-medium text-gray-700">Date Issued</label>
              <input
                name="dateIssued"
                type="date"
                [(ngModel)]="formData.dateIssued"
                class="input input-bordered w-full mt-2 bg-white text-black"
                required
                #dateIssued="ngModel"
              />
              <div
                *ngIf="dateIssued.errors?.['required'] && (dateIssued.dirty || dateIssued.touched)"
                class="text-red-600 text-sm mt-1"
              >
                * Required
              </div>
            </div>

            <div>
              <label class="font-medium text-gray-700"
                >Name of Company President/ CEO/General Manager
              </label>
              <input
                name="nameOfOwner"
                [(ngModel)]="formData.nameOfOwner"
                class="input input-bordered w-full mt-2 bg-white text-black"
                required
                #nameOfOwner="ngModel"
              />
              <div
                *ngIf="
                  nameOfOwner.invalid &&
                  (nameOfOwner.dirty || nameOfOwner.touched)
                "
                class="text-red-600 text-sm mt-1"
              >
                * required
              </div>

              <div>
                <label class="font-medium text-gray-700"
                  >Name of Authorized Representative</label
                >
                <input
                  name="nameOfAuthorizedRepresentative"
                  [(ngModel)]="formData.nameOfAuthorizedRepresentative"
                  class="input input-bordered w-full mt-2 bg-white text-black"
                  required
                  #nameOfAuthorizedRepresentative="ngModel"
                />
                <div
                  *ngIf="
                    nameOfAuthorizedRepresentative.invalid &&
                    (nameOfAuthorizedRepresentative.dirty ||
                      nameOfAuthorizedRepresentative.touched)
                  "
                  class="text-red-600 text-sm mt-1"
                >
                  * required
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div>
                  <label class="font-medium text-gray-700"
                    >Representative's Contact Number</label
                  >
                  <input
                    name="contactRepresentative"
                    [(ngModel)]="formData.contactRepresentative"
                    class="input input-bordered w-full mt-2 bg-white text-black"
                    required
                    #contactRepresentative="ngModel"
                  />
                  <div
                    *ngIf="
                      contactRepresentative.invalid &&
                      (contactRepresentative.dirty ||
                        contactRepresentative.touched)
                    "
                    class="text-red-600 text-sm mt-1"
                  >
                    * Required
                  </div>
                </div>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <div>
                  <label class="font-medium text-gray-700">Fax Number</label>
                  <input
                    name="FaxNumber"
                    [(ngModel)]="formData.FaxNumber"
                    class="input input-bordered w-full mt-2 bg-white text-black"
                    required
                    #FaxNumber="ngModel"
                  />
                  <div
                    *ngIf="
                      FaxNumber.invalid &&
                      (FaxNumber.dirty || FaxNumber.touched)
                    "
                    class="text-red-600 text-sm mt-1"
                  >
                    * Required
                  </div>
                </div>
              </div>

              <div>
                <label class="font-medium text-gray-700"
                  >Representative's E-mail Address</label
                >
                <input
                  name="emailRepresentative"
                  type="email"
                  [(ngModel)]="formData.emailRepresentative"
                  class="input input-bordered w-full mt-2 bg-white text-black"
                  required
                  #emailRepresentative="ngModel"
                />
                <div
                  *ngIf="emailRepresentative.errors?.['required'] && (emailRepresentative.dirty || emailRepresentative.touched)"
                  class="text-red-600 text-sm mt-1"
                >
                  * Required
                </div>
                <div
                  *ngIf="emailRepresentative.errors?.['email'] && (emailRepresentative.dirty || emailRepresentative.touched)"
                  class="text-red-600 text-sm mt-1"
                >
                  * Invalid email
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="flex justify-end space-x-4">
          <button type="button" class="btn btn-error hover:bg-red-600">
            Cancel
          </button>
          <button type="submit" class="btn btn-primary hover:bg-blue-700">
            Submit
          </button>
        </div>
      </form>
    </div>
  </main>

  <footer class="bg-white mt-auto py-4 shadow-inner">
    <div class="container mx-auto text-center text-gray-600 text-sm">
      © 2025 OSMV Product Certification Body. All rights reserved.
    </div>
  </footer>
</div>

<div
  *ngIf="showModal"
  class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4"
>
  <div class="bg-white text-gray-800 p-6 rounded-lg shadow-lg w-full max-w-md">
    <h2 class="text-xl font-bold mb-4 text-blue-600">VERIFICATION</h2>
    <p class="mb-4">Please verify your details before downloading the PDF.</p>
    <ul class="list-disc list-inside text-gray-700 mb-4">
      <li>Application Type: {{ formData.typeApplication }}</li>
      <li>Name of Company: {{ formData.nameOfCompany }}</li>
      <li>Company Type: {{ formData.companyType }}</li>
      <li>
        Company's Address: {{ formData.floorUnit }}, {{ formData.bldgName }},
        {{ formData.street }}, {{ formData.barangay }}, {{ formData.city }},
        {{ formData.province }}, {{ formData.region }}, {{ formData.zipCode }}
      </li>
      <li>
        Company's Local Address: {{ formData.floorUnit }},
        {{ formData.bldgName }}, {{ formData.street }}, {{ formData.barangay }},
        {{ formData.city }}, {{ formData.province }}, {{ formData.region }},
        {{ formData.zipCode }}
      </li>
      <li>Website: {{ formData.websiteOwner }}</li>
      <li>Telephone:{{ formData.telephoneOwner }}</li>
      <li>Fax Number:{{ formData.FaxNumber }}</li>
      <li>Email (Owner): {{ formData.emailOwner }}</li>
      <li>Date Issued: {{ formData.dateIssued }}</li>
      <li>TIN:{{ formData.TINOwner }}</li>
      <li>
        Name of Company President/CEO/General Manager:
        {{ formData.nameOfOwner }}
      </li>
      <li>
        Name of Authorized Representative:
        {{ formData.nameOfAuthorizedRepresentative }}
      </li>

      <li>
        Representative's Contact Number:
        {{ formData.contactRepresentative }}
      </li>
      <li>
        Representative's Email Address:
        {{ formData.emailRepresentative }}
      </li>
    </ul>
    <div class="flex justify-end mt-6 space-x-4">
      <button class="btn btn-secondary" (click)="closeModal()">Close</button>
      <button class="btn btn-success" (click)="downloadPDF()">Download</button>
    </div>
  </div>
</div>
